<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
</head>
	

<body>
	<script>
	"use strict"

	function makeBuffer() {
		var storage = '';

		// return function buffer() {
		// 	return arguments.length > 0 ? storage += arguments[0] : storage;

		function buffer(piece) {
			if (arguments.length == 0) {
				return storage;
			}
			storage += piece;
		};

		buffer.clear = function() {
			storage = ''
		};

		return buffer;
	};


	var buffer = makeBuffer(); // создание объекта; если быть точным, функции, имеющей [[Scopes]] = 1. Closure (makeBuffer), 2. Global (window)

	buffer("Тест");
	buffer(" тебя не съест ");
	
	alert( buffer() ); // Тест тебя не съест
		
	buffer.clear();
		
	alert( buffer() ); // ''

	</script>
</body>

</html>